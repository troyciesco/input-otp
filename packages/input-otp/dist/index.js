var Lt=Object.create;var Y=Object.defineProperty,Nt=Object.defineProperties,$t=Object.getOwnPropertyDescriptor,Ft=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,zt=Object.getPrototypeOf,at=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var bt=(e,n,t)=>n in e?Y(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ht=(e,n)=>{for(var t in n||(n={}))at.call(n,t)&&bt(e,t,n[t]);if(Q)for(var t of Q(n))Pt.call(n,t)&&bt(e,t,n[t]);return e},_t=(e,n)=>Nt(e,Ft(n));var Tt=(e,n)=>{var t={};for(var a in e)at.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&Q)for(var a of Q(e))n.indexOf(a)<0&&Pt.call(e,a)&&(t[a]=e[a]);return t};var Xt=(e,n)=>{for(var t in n)Y(e,t,{get:n[t],enumerable:!0})},Dt=(e,n,t,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of Vt(n))!at.call(e,f)&&f!==t&&Y(e,f,{get:()=>n[f],enumerable:!(a=$t(n,f))||a.enumerable});return e};var it=(e,n,t)=>(t=e!=null?Lt(zt(e)):{},Dt(n||!e||!e.__esModule?Y(t,"default",{value:e,enumerable:!0}):t,e)),Yt=e=>Dt(Y({},"__esModule",{value:!0}),e);var ee={};Xt(ee,{OTPInput:()=>Ht,OTPInputContext:()=>Wt,REGEXP_ONLY_CHARS:()=>Qt,REGEXP_ONLY_DIGITS:()=>Jt,REGEXP_ONLY_DIGITS_AND_CHARS:()=>te});module.exports=Yt(ee);var r=it(require("react"));function It(e){let n=setTimeout(e,0),t=setTimeout(e,10),a=setTimeout(e,50);return[n,t,a]}var tt=it(require("react"));function Mt(e){let n=tt.useRef();return tt.useEffect(()=>{n.current=e}),n.current}var E=it(require("react")),Ut=18,Ct=40,Zt=`${Ct}px`,qt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function yt({containerRef:e,inputRef:n,pushPasswordManagerStrategy:t,isFocused:a}){let[f,A]=E.useState(!1),[N,k]=E.useState(!1),[Z,O]=E.useState(!1),et=E.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&f&&N,[f,N,t]),M=E.useCallback(()=>{let d=e.current,S=n.current;if(!d||!S||Z||t==="none")return;let s=S.ownerDocument||document,b=d,C=b.getBoundingClientRect().left+b.offsetWidth,h=b.getBoundingClientRect().top+b.offsetHeight/2,G=C-Ut,$=h;s.querySelectorAll(qt).length===0&&s.elementFromPoint(G,$)===d||(A(!0),O(!0))},[e,n,Z,t]);return E.useEffect(()=>{let d=e.current,S=n.current;if(!d||!S||t==="none")return;let b=(S.ownerDocument||document).defaultView||window;function C(){let $=b.innerWidth-d.getBoundingClientRect().right;k($>=Ct)}C();let h=setInterval(C,1e3);return()=>{clearInterval(h)}},[e,n,t]),E.useEffect(()=>{let d=n.current,S=(d==null?void 0:d.ownerDocument)||document,s=a||S.activeElement===d;if(t==="none"||!s)return;let b=setTimeout(M,0),C=setTimeout(M,2e3),h=setTimeout(M,5e3),G=setTimeout(()=>{O(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(C),clearTimeout(h),clearTimeout(G)}},[n,a,t,M]),{hasPWMBadge:f,willPushPWMBadge:et,PWM_BADGE_SPACE_WIDTH:Zt}}var Wt=r.createContext({}),Ht=r.forwardRef((C,b)=>{var h=C,{value:e,onChange:n,maxLength:t,textAlign:a="left",pattern:f,placeholder:A,inputMode:N="numeric",onComplete:k,pushPasswordManagerStrategy:Z="increase-width",pasteTransformer:O,containerClassName:et,noScriptCSSFallback:M=Kt,render:d,children:S}=h,s=Tt(h,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);var K,Rt,vt,gt,wt;let[G,$]=r.useState(typeof s.defaultValue=="string"?s.defaultValue:""),i=e!=null?e:G,_=Mt(i),F=r.useCallback(o=>{n==null||n(o),$(o)},[n]),v=r.useMemo(()=>f?typeof f=="string"?new RegExp(f):f:null,[f]),l=r.useRef(null),nt=r.useRef(null),ot=r.useRef({value:i,onChange:F,isIOS:typeof window!="undefined"&&((Rt=(K=window==null?void 0:window.CSS)==null?void 0:K.supports)==null?void 0:Rt.call(K,"-webkit-touch-callout","none"))}),q=r.useRef({prev:[(vt=l.current)==null?void 0:vt.selectionStart,(gt=l.current)==null?void 0:gt.selectionEnd,(wt=l.current)==null?void 0:wt.selectionDirection]});r.useImperativeHandle(b,()=>l.current,[]),r.useEffect(()=>{let o=l.current,c=nt.current;if(!o||!c)return;let u=o.ownerDocument||document,g=u.defaultView||window;ot.current.value!==o.value&&ot.current.onChange(o.value),q.current.prev=[o.selectionStart,o.selectionEnd,o.selectionDirection];function p(){if(u.activeElement!==o){z(null),X(null);return}let m=o.selectionStart,R=o.selectionEnd,J=o.selectionDirection,W=o.maxLength,H=o.value,P=q.current.prev,T=-1,D=-1,I;if(H.length!==0&&m!==null&&R!==null){let Gt=m===R,xt=m===H.length&&H.length<W;if(Gt&&!xt){let B=m;if(B===0)T=0,D=1,I="forward";else if(B===W)T=B-1,D=B,I="backward";else if(W>1&&H.length>1){let st=0;if(P[0]!==null&&P[1]!==null){I=B<P[1]?"backward":"forward";let jt=P[0]===P[1]&&P[0]<W;I==="backward"&&!jt&&(st=-1)}T=st+B,D=st+B+1}}T!==-1&&D!==-1&&T!==D&&l.current.setSelectionRange(T,D,I)}let Et=T!==-1?T:m,St=D!==-1?D:R,Ot=I!=null?I:J;z(Et),X(St),q.current.prev=[Et,St,Ot]}if(u.addEventListener("selectionchange",p,{capture:!0}),p(),u.activeElement===o&&rt(!0),!u.getElementById("input-otp-style")){let m=u.createElement("style");if(m.id="input-otp-style",u.head.appendChild(m),m.sheet){let R="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";U(m.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),U(m.sheet,`[data-input-otp]:autofill { ${R} }`),U(m.sheet,`[data-input-otp]:-webkit-autofill { ${R} }`),U(m.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),U(m.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let w=()=>{c&&c.style.setProperty("--root-height",`${o.clientHeight}px`)};w();let L=new(g.ResizeObserver||ResizeObserver)(w);return L.observe(o),()=>{u.removeEventListener("selectionchange",p,{capture:!0}),L.disconnect()}},[]);let[ut,lt]=r.useState(!1),[V,rt]=r.useState(!1),[y,z]=r.useState(null),[x,X]=r.useState(null);r.useEffect(()=>{It(()=>{var g,p,w,L;(g=l.current)==null||g.dispatchEvent(new Event("input"));let o=(p=l.current)==null?void 0:p.selectionStart,c=(w=l.current)==null?void 0:w.selectionEnd,u=(L=l.current)==null?void 0:L.selectionDirection;o!==null&&c!==null&&(z(o),X(c),q.current.prev=[o,c,u])})},[i,V]),r.useEffect(()=>{_!==void 0&&i!==_&&_.length<t&&i.length===t&&(k==null||k(i))},[t,k,_,i]);let j=yt({containerRef:nt,inputRef:l,pushPasswordManagerStrategy:Z,isFocused:V}),dt=r.useCallback(o=>{let c=o.currentTarget.value.slice(0,t);if(c.length>0&&v&&!v.test(c)){o.preventDefault();return}typeof _=="string"&&c.length<_.length&&(o.currentTarget.ownerDocument||document).dispatchEvent(new Event("selectionchange")),F(c)},[t,F,_,v]),ft=r.useCallback(()=>{var o;if(l.current){let c=Math.min(l.current.value.length,t-1),u=l.current.value.length;(o=l.current)==null||o.setSelectionRange(c,u),z(c),X(u)}rt(!0)},[t]),mt=r.useCallback(o=>{var H,P;let c=l.current;if(!O&&(!ot.current.isIOS||!o.clipboardData||!c))return;let u=o.clipboardData.getData("text/plain"),g=O?O(u):u;o.preventDefault();let p=(H=l.current)==null?void 0:H.selectionStart,w=(P=l.current)==null?void 0:P.selectionEnd,R=(p!==w?i.slice(0,p)+g+i.slice(w):i.slice(0,p)+g+i.slice(p)).slice(0,t);if(R.length>0&&v&&!v.test(R))return;c.value=R,F(R);let J=Math.min(R.length,t-1),W=R.length;c.setSelectionRange(J,W),z(J),X(W)},[t,F,v,i]),Bt=r.useMemo(()=>({position:"relative",cursor:s.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[s.disabled]),pt=r.useMemo(()=>({position:"absolute",inset:0,width:j.willPushPWMBadge?`calc(100% + ${j.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:j.willPushPWMBadge?`inset(0 ${j.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[j.PWM_BADGE_SPACE_WIDTH,j.willPushPWMBadge,a]),At=r.useMemo(()=>r.createElement("input",_t(ht({autoComplete:s.autoComplete||"one-time-code"},s),{"data-input-otp":!0,"data-input-otp-placeholder-shown":i.length===0||void 0,"data-input-otp-mss":y,"data-input-otp-mse":x,inputMode:N,pattern:v==null?void 0:v.source,"aria-placeholder":A,style:pt,maxLength:t,value:i,ref:l,onPaste:o=>{var c;mt(o),(c=s.onPaste)==null||c.call(s,o)},onChange:dt,onMouseOver:o=>{var c;lt(!0),(c=s.onMouseOver)==null||c.call(s,o)},onMouseLeave:o=>{var c;lt(!1),(c=s.onMouseLeave)==null||c.call(s,o)},onFocus:o=>{var c;ft(),(c=s.onFocus)==null||c.call(s,o)},onBlur:o=>{var c;rt(!1),(c=s.onBlur)==null||c.call(s,o)}})),[dt,ft,mt,N,pt,t,x,y,s,v==null?void 0:v.source,i]),ct=r.useMemo(()=>({slots:Array.from({length:t}).map((o,c)=>{var w;let u=V&&y!==null&&x!==null&&(y===x&&c===y||c>=y&&c<x),g=i[c]!==void 0?i[c]:null,p=i[0]!==void 0?null:(w=A==null?void 0:A[c])!=null?w:null;return{char:g,placeholderChar:p,isActive:u,hasFakeCaret:u&&g===null}}),isFocused:V,isHovering:!s.disabled&&ut}),[V,ut,t,x,y,s.disabled,i]),kt=r.useMemo(()=>d?d(ct):r.createElement(Wt.Provider,{value:ct},S),[S,ct,d]);return r.createElement(r.Fragment,null,M!==null&&r.createElement("noscript",null,r.createElement("style",null,M)),r.createElement("div",{ref:nt,"data-input-otp-container":!0,style:Bt,className:et},kt,r.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},At)))});Ht.displayName="Input";function U(e,n){try{e.insertRule(n)}catch(t){console.error("input-otp could not insert CSS rule:",n)}}var Kt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;var Jt="^\\d+$",Qt="^[a-zA-Z]+$",te="^[a-zA-Z0-9]+$";0&&(module.exports={OTPInput,OTPInputContext,REGEXP_ONLY_CHARS,REGEXP_ONLY_DIGITS,REGEXP_ONLY_DIGITS_AND_CHARS});
//# sourceMappingURL=index.js.map